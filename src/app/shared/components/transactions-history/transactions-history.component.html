<mat-card>
    <mat-card-header>
        <mat-card-title>Histórico de Transações</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <mat-table [dataSource]="dataSource">

            <ng-container matColumnDef="type">
                <mat-header-cell *matHeaderCellDef>Tipo</mat-header-cell>
                <mat-cell *matCellDef="let transaction">
                    <span [ngClass]="{'INCOME': transaction.type === 'INCOME', 'EXPENSE': transaction.type === 'EXPENSE'}">
                        {{transaction.type === 'INCOME' ? 'Receita' : 'Despesa'}}
                    </span>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="title">
                <mat-header-cell *matHeaderCellDef>Título</mat-header-cell>
                <mat-cell *matCellDef="let transaction">{{transaction.title}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="description">
                <mat-header-cell *matHeaderCellDef>Descrição</mat-header-cell>
                <mat-cell *matCellDef="let transaction">{{transaction.description}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="moment">
                <mat-header-cell *matHeaderCellDef>Data</mat-header-cell>
                <mat-cell *matCellDef="let transaction">{{transaction.moment}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="transactionValue">
                <mat-header-cell *matHeaderCellDef>Valor</mat-header-cell>
                <mat-cell *matCellDef="let transaction">
                    <span [ngClass]="{'INCOME': transaction.type === 'INCOME', 'EXPENSE': transaction.type === 'EXPENSE'}">
                        {{transaction.transactionValue | currency:'BRL'}}
                    </span>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="recurring">
                <mat-header-cell *matHeaderCellDef>Recorrente</mat-header-cell>
                <mat-cell *matCellDef="let transaction">
                    <span [ngClass]="{'INCOME': transaction.type === 'INCOME', 'EXPENSE': transaction.type === 'EXPENSE'}">
                        {{transaction.recurring ? 'Sim' : 'Não'}}
                    </span>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>

        <mat-paginator
            [length]="totalElements"
            [pageSize]="pageSize"
            [pageSizeOptions]="[5, 10, 25, 100]"
            (page)="onPageChange($event)"
            aria-label="Select page">
        </mat-paginator>
    </mat-card-content>
</mat-card>
